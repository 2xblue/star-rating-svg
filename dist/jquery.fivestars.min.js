/*
 *  jquery-fivestars - v3.5.0
 *  A star rating plugin using svg shapes
 *  nashio.github.com/fivestars-plugin
 *
 *  Made by Ignacio Chavez
 *  Under MIT License
 */
!function(a){"use strict";var b="fivestars",c={totalStars:5,emptyColor:"lightgray",hoverColor:"orange",activeColor:"yellow",useGradient:!0,starGradient:{start:"#FEF7CD",end:"#FF9511"},strokeWidth:0,initialRating:0,starSize:50},d=function(d,e){this.element=d,this.settings=a.extend({},c,e),this.$el=a(d),this._uid=Math.floor(999*Math.random()),this._state={rating:this.settings.initialRating},this._defaults=c,this._name=b,this.init()},e={init:function(){this.renderStars(),this.addListeners(),this.initRating()},addListeners:function(){this.$star.on("mouseover",this.hoverRating.bind(this)),this.$star.on("mouseout",this.restoreState.bind(this)),this.$star.on("click",this.applyRating.bind(this))},hoverRating:function(a){this.paintStars(this.getIndex(a),"hovered")},applyRating:function(a){var b=this.getIndex(a),c=b+1;this.paintStars(b,"active"),this.executeCallback(c),this._state.rating=c},restoreState:function(){var a=this._state.rating||-1;this.paintStars(a-1,"active")},getIndex:function(b){var c=a(b.currentTarget),d=a(b.target).data("side"),e=c.index()-("left"===d?.5:0);return e},initRating:function(){this.paintStars(this.settings.initialRating-1,"active")},paintStars:function(b,c){var d,e,f;a.each(this.$star,function(g,h){d=a(h).find('polygon[data-side="left"]'),e=a(h).find('polygon[data-side="right"]'),f=b>=g?c:"empty",d.attr("class","svg-"+f+"-"+this._uid)}.bind(this))},renderStars:function(){for(var a='<div class="fs-star" style="width:'+this.settings.starSize+"px;  height:"+this.settings.starSize+'px;"><svg version="1.1" class="fs-star-svg" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="228.6px" height="218px" viewBox="64 -59 228.6 218" style="enable-background:new 64 -59 228.6 218; stroke-width:'+this.settings.strokeWidth+'px;" xml:space="preserve"><style type="text/css">.svg-empty-'+this._uid+"{fill:url(#"+this._uid+"_SVGID_1_);}.svg-hovered-"+this._uid+"{fill:url(#"+this._uid+"_SVGID_2_);}.svg-active-"+this._uid+"{fill:url(#"+this._uid+"_SVGID_3_);}</style>"+this.getLinearGradient(this._uid+"_SVGID_1_",this.settings.emptyColor,this.settings.emptyColor)+this.getLinearGradient(this._uid+"_SVGID_2_",this.settings.hoverColor,this.settings.hoverColor)+this.getLinearGradient(this._uid+"_SVGID_3_",this.settings.starGradient.start,this.settings.starGradient.end)+'<polygon data-side="left" class="svg-empty-'+this._uid+'"  points="146.7,17.6 64,23.9 127.1,77.7 107.5,158.3 178.2,114.9 178.3,-59"/><polygon data-side="right" class="svg-empty-'+this._uid+'" points="292.6,24.1 209.9,17.7 178.3,-59 178.2,114.9 248.8,158.4 229.4,77.8  "/></svg></div>',b="",c=0;c<this.settings.totalStars;c++)b+=a;this.$el.append(b),this.$star=this.$el.find(".fs-star")},getLinearGradient:function(a,b,c){return'<linearGradient id="'+a+'" gradientUnits="userSpaceOnUse" x1="121.1501" y1="-80.35" x2="121.15" y2="102.0045"><stop  offset="0" style="stop-color:'+b+'"/><stop  offset="1" style="stop-color:'+c+'"/> </linearGradient>'},executeCallback:function(b){var c=this.settings.callback;a.isFunction(c)&&c(b)}};a.extend(d.prototype,e),a.fn[b]=function(c){return this.each(function(){a.data(this,"plugin_"+b)||a.data(this,"plugin_"+b,new d(this,c))})}}(jQuery,window,document);